<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create New Game</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>

<body>
    <div class="container mt-5">
        <h1 class="mb-4">{{ 'Modify Game' if modify else 'Create New Game' }}</h1>
        <form method="post" action="{{ url_for('modify_game', game_id=game_id) if modify else '/create_game' }}">
            <div class="mb-3">
                <label for="team" class="form-label">Team/Category</label>
                <input type="text" class="form-control" id="team" name="team" required
                    value="{{ game.team if modify and game.team is defined else '' }}">
            </div>
            <div class="mb-3">
                <label for="home_team" class="form-label">Home Team</label>
                <input type="text" class="form-control" id="home_team" name="home_team" required
                    value="{{ game.home_team if modify else '' }}">
            </div>
            <div class="mb-3">
                <label for="away_team" class="form-label">Away Team</label>
                <input type="text" class="form-control" id="away_team" name="away_team" required
                    value="{{ game.away_team if modify else '' }}">
            </div>
            {% for line in range(1, 5) %}
            <div class="mb-3">
                <label class="form-label">Line {{ line }} Players (comma separated)</label>
                <input type="text" class="form-control" name="line{{ line }}"
                    placeholder="Player1, Player2, Player3, Player4, ..."
                    value="{{ game.lines[line-1]|join(', ') if modify and game.lines|length >= line else '' }}">
            </div>
            {% endfor %}
            {% for goalie in range(1, 3) %}
            <div class="mb-3">
                <label class="form-label">Goalie {{ goalie }} Name</label>
                <input type="text" class="form-control" name="goalie{{ goalie }}" placeholder="Goalie Name"
                    value="{{ game.goalies[goalie-1] if modify and game.goalies|length >= goalie else '' }}">
            </div>
            {% endfor %}
            <div class="d-flex justify-content-between align-items-center">
                <div>
                    <button type="submit" class="btn btn-primary">{{ 'Save Changes' if modify else 'Create Game'
                        }}</button>
                    <a href="/" class="btn btn-secondary ms-2">Cancel</a>
                </div>
            </div>
        </form>
        {% if modify %}
        <form method="post" action="/delete_game/{{ game_id }}"
            onsubmit="return confirm('Are you sure you want to delete this game?');" class="mt-3">
            <button type="submit" class="btn btn-danger">Delete Game</button>
        </form>
        {% endif %}
        </form>
    </div>
</body>

</html>